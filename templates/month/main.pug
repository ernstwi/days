extends ../main

block content
    if (!fs.existsSync(date.monthDir()))
        #no-posts-container
            #no-posts= `No posts this ${date.monthString()}.`
    else
        each day in fs.readdirSync(date.monthDir()).filter(f => /^\d{2}$/.test(f))
            - date.setDate(day);
            - date.allday = true;
            .header= date.dayMonthDateYearString()
            if fs.existsSync(date.file())
                include post
            - date.allday = false;
            each post, i in fs.readdirSync(date.dayDir()).filter(f => /^\d{2}-\d{2}-\d{2}\.md$/.test(f))
                - let [ , hour, minute, second] = post.match(/^(\d{2})-(\d{2})-(\d{2}).md$/);
                - date.setHours(hour, minute, second);
                include post
        #footer
            #navArrows
                - month = date.getMonth() + 1; year = date.getFullYear();
                div
                    if (year > firstYear || month > firstMonth)
                        a(href=month == 1 ? `/${year-1}/12` : `/${year}/${(month-1).zeropad(2)}`) ←
                div
                    span ⬥
                div
                    if (year < lastYear || month < lastMonth)
                        a(href=month == 12 ? `/${year+1}/01` : `/${year}/${(month+1).zeropad(2)}`) →
